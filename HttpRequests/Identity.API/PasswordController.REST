@url = http://localhost:6000

###  Generate reset token ######################################################
### Invalid email
POST {{url}}/api/password/generate/reset-token HTTP/1.1
Content-Type: application/json

{
    "Email": "not-existing-user@mail.com"
}

###

POST {{url}}/api/password/generate/reset-token HTTP/1.1
Content-Type: application/json

{
    "Email": "user@mail.com"
}

### Reset Password #############################################################
### Invalid request

POST {{url}}/api/password/reset HTTP/1.1
Content-Type: application/json

{
    "NewPassword": "invalid"
}

###

@resetToken = EfLP1snO31YUrzV3EeBDLqoeLsTiQCpGBTb6uvgcVhntKB0imQ

POST {{url}}/api/password/reset HTTP/1.1
Content-Type: application/json

{
    "ResetToken": "{{resetToken}}",
    "NewPassword": "Test123"
}

### Change Password ############################################################
### Invalid request

@accessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJUb2tlbklkIjoiMWRmZDA5YmQtNTQxYS00NTZlLTg3ZjItZDQ1Mzc4NjQ4NWI1IiwiVXNlcklkIjoiZGNjYWRmNWMtMzA3Yy00YmY5LTA3ZDMtMDhkOGIyNzdhYjQwIiwiRW1haWwiOiJ1c2VyMkBtYWlsLmNvbSIsIlJvbGUiOiJ1c2VyIiwiZXhwIjoxNjEwMDQ4NzE0LCJpc3MiOiJJZGVudGl0eS5BUEkiLCJhdWQiOiJJZGVudGl0eS5BUEkuQXVkaWVuY2UifQ.F5klubu0uPYgrTyXCkPUbioM1S63iIGqhyMdOyTWPoM

POST {{url}}/api/password/change HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
    "OldPassword": "Test12345",
    "NewPassword": "Test12345"
}

### Invalid previous password

POST {{url}}/api/password/change HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
    "OldPassword": "InvalidPassword",
    "NewPassword": "Test12345"
}

###

POST {{url}}/api/password/change HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
    "OldPassword": "Test1234",
    "NewPassword": "Test1233"
}