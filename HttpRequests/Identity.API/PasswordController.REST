@url = https://localhost:6001

###  Generate reset token ######################################################
### Invalid email
POST {{url}}/api/password/generate/reset-token HTTP/1.1
Content-Type: application/json

"not-existing-user@mail.com"

###

POST {{url}}/api/password/generate/reset-token HTTP/1.1
Content-Type: application/json

"user@mail.com"

### Reset Password #############################################################
### Invalid request

POST {{url}}/api/password/reset HTTP/1.1
Content-Type: application/json

{
    "NewPassword": "invalid"
}

###

@resetToken = 

POST {{url}}/api/password/reset HTTP/1.1
Content-Type: application/json

{
    "ResetToken": "{{resetToken}}",
    "NewPassword": "Test123"
}

### Change Password ############################################################
### Invalid request

@accessToken = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJUb2tlbklkIjoiMDVhOTgzMWMtOWMzNC00NzQ2LTk3ODItYmE2N2I1YjRhNWJjIiwiVXNlcklkIjoiNjk2Y2I1MzMtYTc5MS00Y2ZkLWJhMDgtMDhkOGE0MmJmNWRiIiwiRW1haWwiOiJ1c2VyQG1haWwuY29tIiwiUm9sZSI6InVzZXIiLCJleHAiOjE2MDg0MTA2MzMsImlzcyI6IklkZW50aXR5LkFQSSIsImF1ZCI6IklkZW50aXR5LkFQSS5BdWRpZW5jZSJ9.fLYANowgm6xnmzBrtaqVpvkjPg_WiLYJUv48jKEcTgg

POST {{url}}/api/password/change HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
    "OldPassword": "Test12345",
    "NewPassword": "Test12345"
}

### Invalid previous password

POST {{url}}/api/password/change HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
    "OldPassword": "InvalidPassword",
    "NewPassword": "Test12345"
}

###

POST {{url}}/api/password/change HTTP/1.1
Authorization: Bearer {{accessToken}}
Content-Type: application/json

{
    "OldPassword": "Test12345",
    "NewPassword": "Test123"
}